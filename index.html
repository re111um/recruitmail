<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Featuring Recruit ë©”ì¼ ì„œì‹</title>
  <style>
    :root{
      --bg:#fafafa;
      --card:#ffffff;
      --ink:#111111;
      --muted:#6b7280;
      --line:#e5e7eb;
      --accent:#6d28d9;
      --accent-ink:#ffffff;
      --radius:16px;
      --control-h: 44px;          /* ì…ë ¥ì°½ ì‹œê° ë†’ì´(ì²´í¬ë°•ìŠ¤ ì¤‘ì•™ ì •ë ¬ ê¸°ì¤€) */
}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; padding:24px; background:var(--bg); color:var(--ink);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, Helvetica, "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", sans-serif;
      line-height:1.5;
    }
    .container{
      max-width:1100px; margin:0 auto; background:var(--card);
      border:1px solid var(--line); border-radius:24px; padding:28px 28px 32px;
      box-shadow:0 10px 30px rgba(0,0,0,.03);
    }
    h1{margin:0 0 6px; font-size:32px; letter-spacing:-.02em}
  /* ê¸°ë³¸ 3ì—´(grid í™œì„±í™”) */
  .grid{display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:14px}

    }
    
    .field .label-row{ display:flex; align-items:center; justify-content:space-between; }
    .field .intern{ display:flex; align-items:center; gap:6px; font-weight:600; }

    /* ì²´í¬ë°•ìŠ¤ í¬ê¸° ê³ ì • (13Ã—13) */
    #isIntern{ width:13px; height:13px; }
    
    label{display:block; font-weight:600; margin:0 0 6px}
    .field input{
      width:100%; padding:14px 12px; border:1px solid var(--line); border-radius:12px;
      outline:none; background:#fff; font-size:15px; color:var(--ink);
    }
    .field input:focus{border-color:var(--accent); box-shadow:0 0 0 4px rgba(109,40,217,.12)}

    .btn-row{display:flex; gap:10px; flex-wrap:wrap; margin:16px 0 8px}
    .btn{appearance:none; border:1px solid var(--line); background:#fff; color:var(--ink);
      padding:12px 14px; border-radius:999px; cursor:pointer; font-weight:600; font-size:14px;
      transition:all .15s ease; box-shadow:0 2px 0 rgba(17,17,17,.04);
    }
    .btn:hover{transform:translateY(-1px); box-shadow:0 6px 14px rgba(17,17,17,.06)}
    .btn.primary{background:var(--accent); color:var(--accent-ink); border-color:transparent} /* â˜… ë³µêµ¬ */
    .btn.black{background:#111111; color:#ffffff; border-color:#111111}
    .btn[disabled]{opacity:.55; cursor:not-allowed; transform:none; box-shadow:none}

    .actions{display:flex; gap:10px; align-items:center; margin:10px 0 8px}
    .hint{color:var(--muted); font-size:13px}

    .preview{
      margin-top:8px; padding:18px; border-radius:16px; background:#fff;
      border:2px dashed var(--line);
    }
    .preview h3{margin:0 0 10px; font-size:16px}
    .preview .frame{background:#fff; border:1px solid var(--line); border-radius:12px; padding:18px}

  .toast{
  position:fixed; top:50%; left:50%;
  transform:translate(-50%,-40%) scale(.98);
  background:#111; color:#fff; border-radius:12px;
  padding:14px 18px; opacity:0; transition:all .2s ease;
  text-align:center; z-index:9999; box-shadow:0 10px 30px rgba(0,0,0,.25);
  max-width: 86vw;
}
.toast.show{ opacity:1; transform:translate(-50%,-50%) scale(1) }

/* ì¶”ê°€ ë¬¸êµ¬(ì‘ê²Œ, íšŒìƒ‰) */
.toast .note{ margin-top:8px; font-size:12px; color:#d1d5db; line-height:1.4 }

    .hr{height:1px; background:var(--line); margin:18px 0}

/* ì²´í¬ë°•ìŠ¤ëŠ” í…ìŠ¤íŠ¸ ì…ë ¥ ìŠ¤íƒ€ì¼ì„ ë®ì–´ì“°ê¸°(13Ã—13) */
.field.compact input[type="checkbox"]{
  width:13px; height:13px; padding:0; margin:0;
  border:none; border-radius:0; box-shadow:none; outline:none;
}
    
  .grid{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:14px; }
    /* ë°ìŠ¤í¬í†±ì—ì„œë„ 3ì—´ ìœ ì§€ (ì´ì „ì— ë„£ì—ˆë˜ 4ì—´ ê·œì¹™ì€ ì‚­ì œ!) */
  @media (min-width:901px){
    .grid{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:14px; }
    /* ì¸í„´ì‹­ ì¹¸: ë¼ë²¨ê³¼ ì²´í¬ë°•ìŠ¤ë¥¼ í•œ ì¤„ë¡œ, ë†’ì´ëŠ” ì…ë ¥ì°½ê³¼ ë§ì¶”ê³  ì„¸ë¡œ ì¤‘ì•™ ì •ë ¬ */
    .field.small{ display:flex; align-items:center; gap:8px; min-height:44px; }
    .field.small label{ margin:0; font-weight:600; }

/* ì²´í¬ë°•ìŠ¤ ê³ ì • í¬ê¸° */
  #isIntern{ width:13px; height:13px; }
}

.dept{ position:relative; }
.dept .dept-trigger{
  width:100%; padding:12px 12px; border:1px solid #d1d5db; border-radius:12px;
  background:#fff; font-size:15px; text-align:left; cursor:pointer;
}
.dept .dept-trigger:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 4px rgba(109,40,217,.12); }

/* ë¼ë””ì˜¤ ë°•ìŠ¤(ì œê³µ CSS ì ìš©, ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ í¼ì¹¨) */
.dept .dropdown{
  position:absolute; z-index:20; top:calc(100% + 6px); left:0; right:0;
  background:#fff; border:1px solid #d1d5db; border-radius:10px;
  max-height:260px; overflow-y:auto; overflow-x:hidden;
  box-shadow:0 10px 20px rgba(0,0,0,.08); text-align:left;
  padding:6px 8px 6px 5px;
}
.dept .dropdown[hidden]{ display:none; }
.dept .dropdown ul{ margin:8px 0; padding:0; list-style:none; }
.dept .dropdown li{ margin:0; padding:0; }

/* [ë¼ë””ì˜¤ 12px] [í…ìŠ¤íŠ¸] + ê°„ê²© 5px (ì œê³µì•ˆ) */
.dept .dropdown label{
  display:grid; grid-template-columns:12px 1fr; align-items:center;
  column-gap:5px; width:100%; box-sizing:border-box;
  padding:8px 8px; line-height:1.2; cursor:pointer;
  white-space:normal; word-break:keep-all; overflow-wrap:anywhere;
}
.dept .dropdown label:hover{ background:#f5f5f5; }

/* ë¼ë””ì˜¤ í¬ê¸° */
.dept .dropdown input[type="radio"]{
  width:10px; height:10px; transform:scale(0.5);
  margin:0;
}

/* ì˜µì…˜ í…ìŠ¤íŠ¸ */
.dept .dropdown .opt{ min-width:0; color:#111; }

/* ë‚ ì§œ ì…ë ¥ UI */
.grid.dates{ grid-template-columns:1fr 1fr; gap:18px; }
.datebox{
  border:1px solid var(--line); border-radius:12px; padding:10px; background:#fff;
}
.date-row{
  display:flex; align-items:center; gap:6px;
  padding:6px 8px; border-radius:8px;
}
.date-row + .date-row{ margin-top:8px; background:#fafafa; }
.date-row input, .date-row select{
  border:1px solid var(--line); border-radius:10px; padding:8px 10px; font-size:14px;
}
.date-row input:focus, .date-row select:focus{
  outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(109,40,217,.12);
}
.date-row .y{ width:86px; text-align:center; }
.date-row .m,.date-row .d{ width:56px; text-align:center; }
.date-row .h,.date-row .i{ width:56px; text-align:center; }
.date-row .w{ min-width:84px; }
.date-row .sep{ color:#6b7280; }
.date-row .colon{ color:#6b7280; }
@media (max-width:900px){ .grid.dates{ grid-template-columns:1fr; } }

/* ì¸í„´ì‹­ì„ ë‚ ì§œ ê·¸ë¦¬ë“œì˜ ì˜¤ë¥¸ìª½ ì»¬ëŸ¼ìœ¼ë¡œ */
.grid.dates .intern-field{
  grid-column: 2;                 /* ì˜¤ë¥¸ìª½ ì¹¼ëŸ¼ ê³ ì • */
  display: flex; align-items: center; gap: 8px;
  padding-top: 8px;
}
.grid.dates .intern-field label{ margin:0; }
    
  </style>
</head>
<body>
  <div class="container">
    <h1>Featuring Recruit ë©”ì¼ ì„œì‹</h1>
    <p class="sub">ì•„ë˜ 3ê°€ì§€ë§Œ ì…ë ¥í•œ ë’¤, ì›í•˜ëŠ” ë‹¨ê³„ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”. í•˜ë‹¨ ë¯¸ë¦¬ë³´ê¸°ì—ì„œ <strong>ì„œì‹ ë³µì‚¬</strong>ë¥¼ í´ë¦­í•˜ë©´ Gmail ë³¸ë¬¸(HTML)ìœ¼ë¡œ ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<div class="grid">
  <!-- 1í–‰: ì´ë¦„ / í¬ì§€ì…˜ / ê³¼ì œ URL (3ì—´) -->
  <div class="field">
    <label for="name">ì§€ì›ìëª…</label>
    <input id="name" type="text" placeholder="ì˜ˆ: í™ê¸¸ë™" />
  </div>
  <div class="field">
    <label for="position">í¬ì§€ì…˜ëª…</label>
    <input id="position" type="text" placeholder="ì˜ˆ: HR Manager" />
  </div>
  <!-- ê³¼ì œ URL ì…ë ¥ â†’ ë¼ë””ì˜¤ ì„ íƒ(ë¼ë²¨ë§Œ ë³´ì´ê²Œ) -->
<div class="field dept">
  <label>ê³¼ì œ ì„ íƒ</label>
  <!-- ì„ íƒëœ URL ì €ì¥ìš©(í…œí”Œë¦¿ì—ì„œ v.taskurlë¡œ ì‚¬ìš©) -->
  <input id="taskurl" type="hidden" />

  <!-- íŠ¸ë¦¬ê±° ë²„íŠ¼: í´ë¦­ ì‹œ ì˜µì…˜ í¼ì¹¨/ì ‘í˜ -->
  <button type="button" id="taskSelectBtn" class="dept-trigger" aria-haspopup="listbox" aria-expanded="false">
    ê³¼ì œ ì—†ìŒ
  </button>

  <!-- ì˜µì…˜ ëª©ë¡: ê¸°ë³¸ì€ ìˆ¨ê¹€ -->
  <div class="dropdown" id="taskDropdown" role="listbox" aria-label="ê³¼ì œ ì„ íƒ" hidden>
    <ul>
      <li>
        <label>
          <input type="radio" name="taskurlOpt" value="">
          <span class="opt">ê³¼ì œ ì—†ìŒ</span>
        </label>
      </li>
      <li>
        <label>
          <input type="radio" name="taskurlOpt"
                 value="https://featuring-corp.atlassian.net/wiki/external/ZDAxNWM0NzUzMTE2NDllNmI0Mjc3MDVhYmRkNjdlMDI">
          <span class="opt">DE ê³¼ì œ</span>
        </label>
      </li>
      <li>
        <label>
          <input type="radio" name="taskurlOpt"
                 value="https://featuring-corp.atlassian.net/wiki/external/NTQyZmZiMGIyM2YxNDk4ZDljZDczNjc4YmM2YzVkYTQ">
          <span class="opt">BE ê³¼ì œ</span>
        </label>
      </li>
      <li>
        <label>
          <input type="radio" name="taskurlOpt"
                 value="https://featuring-corp.atlassian.net/wiki/external/NTU4ODQxZTc1MTQyNDM4OWEzYTEzZTdjNTcyNWM1M2U">
          <span class="opt">AI ê³¼ì œ</span>
        </label>
      </li>
    </ul>
  </div>
</div>

  <!-- 2í–‰: ì™¼ìª½ 1ì¹¸ì— ì¸í„´ì‹­ë§Œ í‘œì‹œ -->
<div class="field intern-field">
  <label for="isIntern">ì¸í„´ì‹­</label>
  <input id="isIntern" type="checkbox" />
</div>

    <!-- â–¼ ë‚ ì§œ ì…ë ¥ ë¸”ë¡ -->
<div class="grid dates">
  <!-- ì œì•ˆì¼ì(ìµœëŒ€ 3ê°œ) -->
  <div class="field">
    <label>ì œì•ˆì¼ì</label>
    <div class="datebox">
      <!-- p1 -->
      <div class="date-row">
        <input id="p1y" class="y" inputmode="numeric" maxlength="4" placeholder="yyyy" />
        <span class="sep">-</span>
        <input id="p1m" class="m" inputmode="numeric" maxlength="2" placeholder="mm" />
        <span class="sep">-</span>
        <input id="p1d" class="d" inputmode="numeric" maxlength="2" placeholder="dd" />
        <select id="p1w" class="w">
          <option value="">(ìš”ì¼)</option><option>ì›”</option><option>í™”</option><option>ìˆ˜</option>
          <option>ëª©</option><option>ê¸ˆ</option><option>í† </option><option>ì¼</option>
        </select>
        <input id="p1h" class="h" inputmode="numeric" maxlength="2" placeholder="24" />
        <span class="colon">:</span>
        <input id="p1i" class="i" inputmode="numeric" maxlength="2" placeholder="00" />
      </div>
      <!-- p2 -->
      <div class="date-row">
        <input id="p2y" class="y" inputmode="numeric" maxlength="4" placeholder="yyyy" />
        <span class="sep">-</span>
        <input id="p2m" class="m" inputmode="numeric" maxlength="2" placeholder="mm" />
        <span class="sep">-</span>
        <input id="p2d" class="d" inputmode="numeric" maxlength="2" placeholder="dd" />
        <select id="p2w" class="w">
          <option value="">(ìš”ì¼)</option><option>ì›”</option><option>í™”</option><option>ìˆ˜</option>
          <option>ëª©</option><option>ê¸ˆ</option><option>í† </option><option>ì¼</option>
        </select>
        <input id="p2h" class="h" inputmode="numeric" maxlength="2" placeholder="24" />
        <span class="colon">:</span>
        <input id="p2i" class="i" inputmode="numeric" maxlength="2" placeholder="00" />
      </div>
      <!-- p3 -->
      <div class="date-row">
        <input id="p3y" class="y" inputmode="numeric" maxlength="4" placeholder="yyyy" />
        <span class="sep">-</span>
        <input id="p3m" class="m" inputmode="numeric" maxlength="2" placeholder="mm" />
        <span class="sep">-</span>
        <input id="p3d" class="d" inputmode="numeric" maxlength="2" placeholder="dd" />
        <select id="p3w" class="w">
          <option value="">(ìš”ì¼)</option><option>ì›”</option><option>í™”</option><option>ìˆ˜</option>
          <option>ëª©</option><option>ê¸ˆ</option><option>í† </option><option>ì¼</option>
        </select>
        <input id="p3h" class="h" inputmode="numeric" maxlength="2" placeholder="24" />
        <span class="colon">:</span>
        <input id="p3i" class="i" inputmode="numeric" maxlength="2" placeholder="00" />
      </div>
    </div>
  </div>

  <!-- í™•ì •ì¼ì(1ê°œ) -->
  <div class="field">
    <label>í™•ì •ì¼ì</label>
    <div class="datebox">
      <div class="date-row">
        <input id="c1y" class="y" inputmode="numeric" maxlength="4" placeholder="yyyy" />
        <span class="sep">-</span>
        <input id="c1m" class="m" inputmode="numeric" maxlength="2" placeholder="mm" />
        <span class="sep">-</span>
        <input id="c1d" class="d" inputmode="numeric" maxlength="2" placeholder="dd" />
        <select id="c1w" class="w">
          <option value="">(ìš”ì¼)</option><option>ì›”</option><option>í™”</option><option>ìˆ˜</option>
          <option>ëª©</option><option>ê¸ˆ</option><option>í† </option><option>ì¼</option>
        </select>
        <input id="c1h" class="h" inputmode="numeric" maxlength="2" placeholder="24" />
        <span class="colon">:</span>
        <input id="c1i" class="i" inputmode="numeric" maxlength="2" placeholder="00" />
      </div>
    </div>
  </div>
</div>
<!-- â–² ë‚ ì§œ ì…ë ¥ ë¸”ë¡ ë -->
    
    <div class="btn-row" aria-label="ë‹¨ê³„ ë²„íŠ¼">
      <button class="btn js-template" data-key="task">ê³¼ì œì „í˜•</button>
      <button class="btn js-template" data-key="interview1">1ì°¨ ì¸í„°ë·°</button>
      <button class="btn js-template" data-key="interviewFinal">ìµœì¢… ì¸í„°ë·°</button>
      <button class="btn js-template" data-key="scheduleConfirm">ì¼ì • í™•ì •</button>
      <button class="btn js-template" data-key="reference">ë ˆí¼ëŸ°ìŠ¤ ì²´í¬</button>
      <button class="btn js-template" data-key="finalNotice">ì²˜ìš°í˜‘ì˜ ë° ì˜¤í¼ë ˆí„°</button>
      <button class="btn js-template" data-key="onboarding">ì…ì‚¬ ì•ˆë‚´</button>
      <button class="btn black js-template" data-key="reject">ë¶ˆí•©ê²©</button>
    </div>

    <div class="actions">
      <button id="copyBtn" class="btn primary" disabled>ì„œì‹ ë³µì‚¬</button>
      <button id="copySubjectBtn" class="btn" disabled>ì œëª© ë³µì‚¬</button>
      <span id="subjectPreview" class="hint" aria-live="polite"></span>
    </div>

    <div class="preview">
      <h3>ë¯¸ë¦¬ë³´ê¸°</h3>
      <div id="preview" class="frame" aria-live="polite">ì•„ì§ ì„ íƒëœ ì„œì‹ì´ ì—†ìŠµë‹ˆë‹¤.</div>
    </div>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite">í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.</div>

  <script>
    // ---------- í…œí”Œë¦¿ êµ¬ì„± ----------
    // ì‹¤ì œ ë³¸ë¬¸ì€ Gmailì—ì„œ ì•ˆì „í•˜ê²Œ ë³´ì´ë„ë¡ ëª¨ë“  ìŠ¤íƒ€ì¼ì„ ì¸ë¼ì¸ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.

    const brandLinkStyle = "color:#111111; text-decoration:underline;"; // ë§í¬ë„ ì§„í•œ ê²€ì •(ìš”ì²­ì‚¬í•­)ìœ¼ë¡œ ì„¤ì •

    function getHeaderImageSrc(){
      try { return new URL('assets/process.png', window.location.href).href; } catch(e) { return 'assets/process.png'; }
    }

function wrapEmail(contentHtml){
  const header = '<div style="margin:0 0 20px 0; text-align:left;"><img src="' + getHeaderImageSrc() + '" width="760" height="98" alt="Featuring Recruit" style="display:block;margin:0;width:760px;height:98px;border:0;"/></div>';

  // â€œê°ì‚¬í•©ë‹ˆë‹¤. â€¦ ì±„ìš©íŒ€ ë“œë¦¼.â€ ë¬¸ë‹¨ ë°”ë¡œ ì•ì— ì´ë¯¸ì§€ ì‚½ì…
  const signoffRe = new RegExp('<p[^>]*>\\s*ê°ì‚¬í•©ë‹ˆë‹¤\\.[\\s\\S]*?ì±„ìš©íŒ€\\s*ë“œë¦¼\\.?\\s*<\\/p>', 'i');
  const injected = signoffRe.test(contentHtml)
    ? contentHtml.replace(signoffRe, header + '$&')
    : (header + contentHtml); // í˜¹ì‹œ ë¬¸êµ¬ë¥¼ ëª» ì°¾ìœ¼ë©´ ìƒë‹¨ì— ì‚½ì…(í´ë°±)

  return (
    '<div style="font-family:Arial, Helvetica, \"Apple SD Gothic Neo\", \"Noto Sans KR\", \"Malgun Gothic\", sans-serif; font-size:14px; color:#111111; line-height:1.7;">' +
      '<div style="padding:8px 0 16px 0">' + injected + '</div>' +
    '</div>'
  );
}

function wrapEmailNoHeader(contentHtml){
  return (
    '<div style="font-family:Arial, Helvetica, \"Apple SD Gothic Neo\", \"Noto Sans KR\", \"Malgun Gothic\", sans-serif; font-size:14px; color:#111111; line-height:1.7;">' +
      '<div style="padding:8px 0 16px 0">' + contentHtml + '</div>' +
    '</div>'
  );
}

// â˜… ì„ ì–¸ ë³µêµ¬
function escapeHtml(s){
  return s.replace(/[&<>"]/g, function(tag){
    const chars = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;' };
    return chars[tag] || tag;
  });
}

    // í¬ì§€ì…˜ëª…(HTML ë³¸ë¬¸ìš©) â€” ì¸í„´ì‹­ì´ë©´ " (ì¸í„´ì‹­)" ê¼¬ë¦¬í‘œ ì¶”ê°€ + HTML ì´ìŠ¤ì¼€ì´í”„
function roleHtml(v){
  const p = (v.position || '').trim();
  return escapeHtml(p) + (v.isIntern ? ' (ì¸í„´ì‹­)' : '');
}

// í¬ì§€ì…˜ëª…(ë©”ì¼ ì œëª©ìš©) â€” HTML ì´ìŠ¤ì¼€ì´í”„ ë¶ˆí•„ìš”
function subjectRole(v){
  const p = (v.position || '').trim();
  return p + (v.isIntern ? ' (ì¸í„´ì‹­)' : '');
}

    function normalizeUrl(u){
  if(!u) return '';
  const s = u.trim();
  if (/^(https?:)?\/\//i.test(s)) { return s.startsWith('//') ? 'https:' + s : s; }
  return 'https://' + s;
}

/* â–¼â–¼â–¼ ê³¼ì œ ì˜µì…˜ ë©”íƒ€(ë¼ë²¨/ì£¼ì œ) â€” í•„ìš”ì‹œ ì£¼ì œ ë¬¸êµ¬ë§Œ ì—¬ê¸°ì„œ ë°”ê¾¸ë©´ ë©ë‹ˆë‹¤ */
const TASK_META = {
  "": { label: "ê³¼ì œ ì—†ìŒ", topic: "" },
  "https://featuring-corp.atlassian.net/wiki/external/ZDAxNWM0NzUzMTE2NDllNmI0Mjc3MDVhYmRkNjdlMDI": {
    label: "DE ê³¼ì œ",
    topic: "ì†Œì…œ ë¯¸ë””ì–´ ë°ì´í„° íŒŒì´í”„ë¼ì¸ ì‹œìŠ¤í…œ ì„¤ê³„"
  },
  "https://featuring-corp.atlassian.net/wiki/external/NTQyZmZiMGIyM2YxNDk4ZDljZDczNjc4YmM2YzVkYTQ": {
    label: "BE ê³¼ì œ",
    topic: "ëŒ€ëŸ‰ DM/ë©”ì¼ ì „ì†¡ ì‹œìŠ¤í…œ ì„¤ê³„"
  },
  "https://featuring-corp.atlassian.net/wiki/external/NTU4ODQxZTc1MTQyNDM4OWEzYTEzZTdjNTcyNWM1M2U": {
    label: "AI ê³¼ì œ",
    topic: "ë©€í‹°ëª¨ë‹¬ RAG ì„±ëŠ¥ ìµœì í™” ì‹œìŠ¤í…œ êµ¬ì¶•"
  }
};

function getTaskTopicByUrl(u){
  if(!u) return '';
  const k = normalizeUrl(u);
  return (TASK_META[k] && TASK_META[k].topic) ? TASK_META[k].topic : '';
}
/* â–²â–²â–² */
    
    // â˜… ì´ë¦„ ì „ì²´(ì¸ì‚¬ë§ 1ì¤„ìš©)
function nameFull(v){
  return escapeHtml((v.name || '').trim());
}

// â˜… ì´ë¦„ ë³¸ë¬¸ìš©: ì„±(ì²« ê¸€ì)ì„ ì œì™¸í•˜ê³  í‘œì‹œ (ì˜ˆ: í™ê¸¸ë™ â†’ ê¸¸ë™, ê¹€ì² ìˆ˜ â†’ ì² ìˆ˜, John Doe â†’ Doe)
function nameBody(v){
  const s = (v.name || '').trim();
  if (!s) return '';
  // ê³µë°±ì´ í¬í•¨ëœ ê²½ìš°(ì„œì–‘ì‹ ë“±): ì²« ë²ˆì§¸ ê³µë°± ë’¤ë§Œ í‘œì‹œ â†’ "John Doe" â†’ "Doe"
  const spaceIdx = s.indexOf(' ');
  const shown = spaceIdx > 0 ? s.slice(spaceIdx + 1) : (s.length > 1 ? s.slice(1) : s);
  return escapeHtml(shown);
}

    // â˜… ì‹ ê·œ: URL ì •ê·œí™” (ìŠ¤í‚´ ì—†ìœ¼ë©´ https:// ìë™ ì¶”ê°€)
function normalizeUrl(u){
  if(!u) return '';
  const s = u.trim();
  // http://, https://, ë˜ëŠ” // ë¡œ ì‹œì‘í•˜ë©´ ê·¸ëŒ€ë¡œ ì‚¬ìš©
  if (/^(https?:)?\/\//i.test(s)) {
    return s.startsWith('//') ? 'https:' + s : s;
  }
  // ê·¸ ì™¸ëŠ” https:// ë¶™ì„
  return 'https://' + s;
}

    // ê¸°ë³¸ í”Œë ˆì´ìŠ¤í™€ë” í…œí”Œë¦¿: ì‹¤ì œ ë¬¸ì•ˆì€ ì´í›„ ì œê³µë˜ëŠ” ë‚´ìš©ìœ¼ë¡œ ì†ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆê²Œ í•¨ìˆ˜ ë¶„ë¦¬

function pad2(n){ n=String(n||''); return n.length===1 ? ('0'+n) : n; }

function readDate(prefix){
  const y = (document.getElementById(prefix+'y')?.value||'').trim();
  const m = (document.getElementById(prefix+'m')?.value||'').trim();
  const d = (document.getElementById(prefix+'d')?.value||'').trim();
  const w = (document.getElementById(prefix+'w')?.value||'').trim();
  const h = (document.getElementById(prefix+'h')?.value||'').trim();
  const i = (document.getElementById(prefix+'i')?.value||'').trim();
  if(!(y && m && d && w && h && i)) return ''; // í•˜ë‚˜ë¼ë„ ë¹„ë©´ ë¯¸ì‚¬ìš©
  return `${y}-${pad2(m)}-${pad2(d)} (${w}) ${pad2(h)}:${pad2(i)}`;
}
    
    const templates = {
     task: (v) => { const role = roleHtml(v); return wrapEmail(`
        <p style="margin:0 0 3px 0;"><strong>[Featuring]</strong></p>
        <p style="margin:0 0 3px 0;">ì•ˆë…•í•˜ì„¸ìš”. ${nameFull(v)}ë‹˜. :)</p>
        <p style="margin:0 0 14px 0;">í”¼ì²˜ë§ ì±„ìš©íŒ€ì…ë‹ˆë‹¤.</p>

        <p style="margin:0 0 3px 0;">ë¨¼ì € ë‹¹ì‚¬ì™€ ${role} í¬ì§€ì…˜ì— ê´€ì‹¬ ê°€ì ¸ì£¼ì‹œê³  ì§€ì›í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.</p>
        <p style="margin:0 0 14px 0;">ê³¼ì œëŠ” ì‹¤ì œ ì—…ë¬´ì™€ ìœ ì‚¬í•œ ìƒí™©ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ëª©í‘œëŠ” ì•„í‚¤í…ì²˜ ì„¤ê³„ ë° ê¸°ìˆ ì  ì˜ì‚¬ê²°ì • ëŠ¥ë ¥ì„ í‰ê°€í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.</p>

        <p style="margin:0 0 3px 0;"><strong>[ê³¼ì œ ì „í˜• ì•ˆë‚´]</strong></p>
        <div style="padding-left:8px; margin:0 0 3px 0;">
        <p style="margin:0 3px 3px 0;">âœ… <strong>ê³¼ì œ ì£¼ì œ</strong> : ${escapeHtml(v.taskTopic)}</p>
        {v.taskurl ? <p style="margin:0 3px 3px 0;">âœ… <strong>ê³¼ì œ ë§í¬</strong> : <a href="${v.taskurl}" style="${brandLinkStyle}"><span style="color:#3d85c6">URL</span></a></p> : ''}
        <p style="margin:3px 0 3px 0;">âœ… <strong>ì œì¶œ í˜•ì‹</strong> :</p>
        <ul style="margin:0 0 3px 18px; padding:0;">
        <li>êµ¬ì„±ì„ í•œëˆˆì— ë³¼ ìˆ˜ ìˆëŠ” ë„ì‹(Flowchart, Architecture Diagram ë“±)ì„ í¬í•¨í•´ì£¼ì„¸ìš”.</li>
        <li>ë°ì´í„° ê´€ë¦¬ë¶€í„° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ ë‹¨ê³„ê¹Œì§€, ê° ê³¼ì •ì—ì„œ ê³ ë ¤í•´ì•¼ í•  ìš”ì†Œ(ì„±ëŠ¥, í™•ì¥ì„±, ë³´ì•ˆ, ë¹„ìš© íš¨ìœ¨ì„±, ëª¨ë‹ˆí„°ë§ ë“±)ì— ëŒ€í•´ íŒŒì´í”„ë¼ì¸ì„ ê¸°ìˆ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</li>
        <li>ë¬¸ì„œ í˜•ì‹ì€ PPT, PDF, Markdown ë“± ììœ ë¡­ê²Œ ì„ íƒí•˜ì‹œë©´ ë©ë‹ˆë‹¤.</li>
  </ul>

        <p style="margin:3px 0 3px 0;">âœ… <strong>ë§ˆê° ê¸°í•œ</strong> :</p>
        <ul style="margin:0 0 14px 18px; padding:0;">
        <li><strong>ê¸ˆì¼ ìì •(yyyy-mm-dd 11:59)ì „ ê¹Œì§€</strong> íšŒì‹  ë¶€íƒë“œë¦½ë‹ˆë‹¤.</li>
        <li>í•´ë‹¹ ë©”ì¼ì— [ì „ì²´ ë‹µì¥] ë˜ëŠ” recruit@featuring.inìœ¼ë¡œ ì œì¶œí•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.</li>
  </ul>
</div>
        <p style="margin:0 0 3px 0;">ì œì¶œí•˜ì‹  ê³¼ì œëŠ” ë‚´ë¶€ ê¸°ìˆ  ë¦¬ë“œ ë° ê°œë°œíŒ€ê³¼ í•¨ê»˜ ê²€í† í•  ì˜ˆì •ì´ë©°, ê²°ê³¼ëŠ” ì œì¶œì¼ë¡œë¶€í„° ì˜ì—…ì¼ ê¸°ì¤€ 3ì¼ ì „ê¹Œì§€ ì•ˆë‚´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>
        <p style="margin:0 0 3px 0;">ê³¼ì œ ì§„í–‰ ì¤‘ ê¶ê¸ˆí•˜ì‹  ì‚¬í•­ì´ ìˆê±°ë‚˜ ì œì¶œ ê¸°í•œì— ì–´ë ¤ì›€ì´ ìˆìœ¼ì‹¤ ê²½ìš°, ì–¸ì œë“  í¸í•˜ê²Œ í•´ë‹¹ ë©”ì¼ë¡œ ì—°ë½ ë¶€íƒë“œë¦½ë‹ˆë‹¤. :)</p>

        <p style="margin:0 0 14px 0; color:#b91c1c; font-style:italic; font-size:12px;">
        (*í•´ë‹¹ ê³¼ì œëŠ” í”¼ì²˜ë§ì˜ ìì‚°ì´ë¯€ë¡œ ì™¸ë¶€ ë° ì œ3ì ìœ ì¶œ ì‹œ ì±„ìš© ê³¼ì •ì´ ì·¨ì†Œë˜ë©°, ë³„ë„ì˜ ì¡°ì¹˜ ë  ìˆ˜ ìˆìŒì„ ì‚¬ì „ì— ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.)
        </p>

  <p style="margin:0;">ê°ì‚¬í•©ë‹ˆë‹¤.<br />í”¼ì²˜ë§ ì±„ìš©íŒ€ ë“œë¦¼.</p>
`); },
      
interview1: (v) => wrapEmail(`
  <p style="margin:0 0 3px 0;"><strong>[Featuring]</strong></p>
  <p style="margin:0 0 3px 0;">ì•ˆë…•í•˜ì„¸ìš”, ${nameFull(v)}ë‹˜.</p>
  <p style="margin:0 0 14px 0;">í”¼ì²˜ë§ ì±„ìš©íŒ€ì…ë‹ˆë‹¤.</p>

  
  <p style="margin:0 0 3px 0;">ë¨¼ì € ì €í¬ íšŒì‚¬ì™€ ${roleHtml(v)} í¬ì§€ì…˜ì— ê´€ì‹¬ ê°€ì ¸ì£¼ì‹œê³  ì§€ì›í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.</p>
    <p style="margin:0 0 3px 0;">ì œì¶œí•´ ì£¼ì‹  ì´ë ¥ì„œì™€ ê²½ë ¥ ì‚¬í•­ì„ ê²€í† í•œ ê²°ê³¼,</p> 
    <p style="margin:0 0 3px 0;">${nameBody(v)}ë‹˜ì˜ ì—­ëŸ‰ê³¼ ê²½í—˜ì´ í•´ë‹¹ í¬ì§€ì…˜ì— ì í•©í•˜ë‹¤ê³  íŒë‹¨ë˜ì–´ 1ì°¨ ì¸í„°ë·°ë¥¼ ì§„í–‰í•˜ê³ ì í•©ë‹ˆë‹¤.</p>
    <p style="margin:0 0 14px 0;">ì¸í„°ë·°ëŠ” ëŒ€ë©´ìœ¼ë¡œ ì§„í–‰ë˜ë©°, ê°€ëŠ¥í•œ ì¼ì • í™•ì¸ì„ ìœ„í•´ ë©”ì¼ë¡œ ì—°ë½ë“œë¦¬ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>

    <p style="margin:0 0 3px 0;"><strong>[ì§„í–‰ ê°€ëŠ¥ ì¼ì •/ì¥ì†Œ]</strong></p>
    <div style="padding-left:5px; margin:0 0 3px 0;">
    <p style="margin:0 0 3px 0;">- ìœ í˜• : 1ì°¨ ì¸í„°ë·° (ì‹¤ë¬´ì§„ ì°¸ì—¬)</p>
    <p style="margin:0 0 3px 0;">- í¬ì§€ì…˜ : ${roleHtml(v)}</p>
    <p style="margin:0 0 3px 0;">- ì¥ì†Œ : ì„œìš¸ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 129, ë¹—ì¸ê¸ˆìœµíƒ€ì›Œ 8ì¸µ</p>
    <p style="margin:0 0 3px 0;">- ì¼ì‹œ : ì•„ë˜ ì¤‘ ê°€ëŠ¥í•œ ì¼ì •ìœ¼ë¡œ íšŒì‹  ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
    <div style="padding-left:8px; margin:0 0 14px 0;">
      {
${
  v.proposeDates.length
    ? `<ul style="margin:0 0 5px 3px; padding:0;">${v.proposeDates.map(d => `<li>${escapeHtml(d)}</li>`).join('')}</ul>`
    : `<p style="margin:0 0 14px 0; color:#6b7280;">{ë‚ ì§œë¥¼ ì…ë ¥í•˜ì„¸ìš”}</p>`
}
  </div>
</div>
    <p style="margin:0 0 3px 0;">í˜¹ì‹œ í•´ë‹¹ ì¼ì‹œ ë° ì‹œê°„ëŒ€ê°€ ì–´ë ¤ìš°ì‹œë‹¤ë©´, ê°€ëŠ¥í•œ ì‹œê°„ì„ 2~3ê°œ ì¼ì •ì •ë„ í•¨ê»˜ ê³µìœ í•´ ì£¼ì‹œë©´ ì¡°ìœ¨í•˜ì—¬ ì§„í–‰í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
    <p style="margin:0 0 14px 0;">ì¶”ê°€ë¡œ ì¸í„°ë·°ì— ì•ì„œ ì¤€ë¹„í•´ì•¼ í•  ì‚¬í•­ì´ë‚˜ ê¶ê¸ˆí•œ ì ì´ ìˆìœ¼ì‹œë‹¤ë©´ ì–¸ì œë“ ì§€ í¸í•˜ê²Œ ì—°ë½ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤. :)</p>
    
  <p style="margin:0;">ê°ì‚¬í•©ë‹ˆë‹¤.<br />í”¼ì²˜ë§ ì±„ìš©íŒ€ ë“œë¦¼.</p>
`),

interviewFinal: (v) => wrapEmail(`
  <p style="margin:0 0 3px 0;"><strong>[Featuring]</strong></p>
  <p style="margin:0 0 3px 0;">ì•ˆë…•í•˜ì„¸ìš”, ${nameFull(v)}ë‹˜.</p>
  <p style="margin:0 0 14px 0;">í”¼ì²˜ë§ ì±„ìš©íŒ€ì…ë‹ˆë‹¤.</p>

  <p style="margin:0 0 3px 0;">ìš°ì„  ì§€ë‚œ ì¸í„°ë·°ì— í”ì¾Œíˆ ì‘í•´ì£¼ì‹œê³ , ì†Œì¤‘í•œ ì‹œê°„ í• ì• í•˜ì—¬ ì ê·¹ ì°¸ì—¬í•´ì£¼ì‹  ì  ì§„ì‹¬ìœ¼ë¡œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.</p>
  <p style="margin:0 0 14px 0;">${nameBody(v)}ë‹˜ê»˜ì„œ ë³´ì—¬ì£¼ì‹  ì—­ëŸ‰ê³¼ ì§€ê¸ˆê¹Œì§€ ìŒ“ì•„ì˜¤ì‹  ì»¤ë¦¬ì–´ì— ëŒ€í•´ ì¸ìƒ ê¹Šê²Œ ìƒê°í•˜ì—¬ <strong>ìµœì¢… ì¸í„°ë·° ì œì•ˆ</strong>ë“œë¦¬ê³ ì í•©ë‹ˆë‹¤.</p>

  <p style="margin:0 0 3px 0;"><strong>[ì§„í–‰ ê°€ëŠ¥ ì¼ì •/ì¥ì†Œ]</strong></p>
  <div style="padding-left:5px; margin:0 0 3px 0;">
  <p style="margin:0 0 3px 0;">- ìœ í˜• : 2ì°¨(ìµœì¢…) ì¸í„°ë·° (C-level ì°¸ì—¬)</p>
  <p style="margin:0 0 3px 0;">- í¬ì§€ì…˜ : ${roleHtml(v)}</p>
  <p style="margin:0 0 3px 0;">- ì¥ì†Œ : ì„œìš¸ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 129, ë¹—ì¸ê¸ˆìœµíƒ€ì›Œ 8ì¸µ</p>
  <p style="margin:0 0 3px 0;">- ì¼ì‹œ : ì•„ë˜ ì¤‘ ê°€ëŠ¥í•œ ì¼ì •ìœ¼ë¡œ íšŒì‹ ë°”ëë‹ˆë‹¤.</p>
    <div style="padding-left:8px; margin:0 0 3px 0;">
${
  v.proposeDates.length
    ? `<ul style="margin:0 0 5px 3px; padding:0;">${v.proposeDates.map(d => `<li>${escapeHtml(d)}</li>`).join('')}</ul>`
    : `<p style="margin:0 0 14px 0; color:#6b7280;">{ë‚ ì§œë¥¼ ì…ë ¥í•˜ì„¸ìš”}</p>`
}
    </div>
  </div>
       
  <p style="margin:0 0 3px 0;">ì§€ë‚œë²ˆì²˜ëŸ¼ í˜¹ì‹œ í•´ë‹¹ ì¼ì‹œ ë° ì‹œê°„ëŒ€ê°€ ì–´ë ¤ìš°ì‹œë‹¤ë©´, ê°€ëŠ¥í•œ ì‹œê°„ì„ í•¨ê»˜ ê³µìœ í•´ ì£¼ì‹œë©´ ì¡°ìœ¨í•˜ì—¬ ì§„í–‰í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p>
  <p style="margin:0 0 14px 0;">${nameFull(v)}ë‹˜ì˜ ë›°ì–´ë‚œ ì—­ëŸ‰ì„ ë” ê¹Šê²Œ ì•Œì•„ê°€ ë³¼ ìˆ˜ ìˆì„ ìë¦¬ê°€ ë  ê²ƒ ê°™ì•„ ê¸°ì˜ê²Œ ìƒê°í•˜ê³  ìˆìŠµë‹ˆë‹¤. :)</p>

  <p style="margin:0;">ê°ì‚¬í•©ë‹ˆë‹¤.<br />í”¼ì²˜ë§ ì±„ìš©íŒ€ ë“œë¦¼.</p>
`),

scheduleConfirm: (v) => { const role = roleHtml(v); return wrapEmail(`
  <p style="margin:0 0 3px 0;"><strong>[Featuring]</strong></p>
  <p style="margin:0 0 3px 0;">ë¹ ë¥´ê²Œ ì¼ì • í™•ì¸ í›„ íšŒì‹ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ${nameBody(v)}ë‹˜.</p>
  <p style="margin:0 0 14px 0;">ë§ì”€ì£¼ì‹  ì¼ìë¡œ í™•ì •í•˜ì—¬ ì•ˆë‚´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤. :)</p>

  <p style="margin:0 0 3px 0;"><strong>[í™•ì • ì¼ì • ì•ˆë‚´]</strong></p>
    <div style="padding-left:5px; margin:0 0 3px 0;">
    <p style="margin:0 0 3px 0;">- í¬ì§€ì…˜ : ${roleHtml(v)}</p>
    <p style="margin:0 0 3px 0;">- ì¥ì†Œ : ì„œìš¸ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 129, ë¹—ì¸ê¸ˆìœµíƒ€ì›Œ 8ì¸µ</p>
      <div style="padding-left:8px; margin:0 0 3px 0;">
       <p style="margin:0 5px 3px 0;">âœ… L(ë¡œë¹„)ì¸µì— ë„ì°©í•˜ì‹œì–´ ì•„ë˜ ì—°ë½ì²˜ë¡œ ì—°ë½ì£¼ì‹œë©´ ë‹´ë‹¹ìê°€ ì§ì ‘ ì•ˆë‚´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>
       <p style="margin:0 5px 3px 0;">â“ Lì¸µì€ ì •ë¬¸ìœ¼ë¡œ ë°©ë¬¸í•˜ì‹œê²Œ ë  ê²½ìš°, ì—ìŠ¤ì»¬ë ˆì´í„°ë¥¼ íƒ€ê³  í•œ ì¸µ ì˜¬ë¼ì˜¤ì…”ì•¼ í•©ë‹ˆë‹¤.</p>    
       <p style="margin:0 5px 3px 0;">ğŸ™‹ ë‹´ë‹¹ì ì—°ë½ì²˜ : 010-7376-0490</p>
      <div style="padding-left:8px; margin:0 0 3px 0;">   
    <p style="margin:0 0 3px 0;">- ì¼ì‹œ : </p>
${
  v.confirmDate
    ? `<p style="margin:0 0 14px 0;">${escapeHtml(v.confirmDate)}</p>`
    : `<p style="margin:0 0 14px 0; color:#6b7280;">{ë‚ ì§œë¥¼ ì…ë ¥í•˜ì„¸ìš”}</p>`
}
    <p style="margin:0 0 14px 0;">- ì§„í–‰ ì‹œê°„ : ì•½ 1ì‹œê°„ 30ë¶„ ì†Œìš” ì˜ˆì •</p>
      </div>
    </div>
  </div>

    <p style="margin:0 0 3px 0;">í˜¹ì—¬ í™•ì •ëœ ì¼ìê°€ ë‹¤ê°€ì˜¤ê¸° ì „ ë¶€ë“ì´ ì¼ì • ë³€ê²½ì´ í•„ìš”í•˜ì‹  ê²½ìš°, í•´ë‹¹ ë©”ì¼ë¡œ íšŒì‹  ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
    <p style="margin:0 0 14px 0;">ì¸í„°ë·° ë‹¹ì¼ì— ì›ƒëŠ” ì–¼êµ´ë¡œ ëµ™ê² ìŠµë‹ˆë‹¤. :)</p>
  
   <p style="margin:0;">ê°ì‚¬í•©ë‹ˆë‹¤.<br />í”¼ì²˜ë§ ì±„ìš©íŒ€ ë“œë¦¼.</p>
`); },  // â˜… í•¨ìˆ˜/ì†ì„± ì •í™•íˆ ë‹«ê¸°

reference: (v) => wrapEmail(`
  <p style="margin:0 0 3px 0;"><strong>[Featuring]</strong></p>
  <p style="margin:0 0 3px 0;">ì•ˆë…•í•˜ì„¸ìš”, ${nameFull(v)}ë‹˜.</p>
  <p style="margin:0 0 14px 0;">í”¼ì²˜ë§ ì±„ìš©íŒ€ì…ë‹ˆë‹¤.</p>

  <p style="margin:0 0 3px 0;">ë‹¤ì‹œ í•œë²ˆ í”¼ì²˜ë§ ì±„ìš© í”„ë¡œì„¸ìŠ¤ì— ê´€ì‹¬ ê°€ì ¸ì£¼ì‹œê³ , ì‹œê°„ ë‚´ì–´ ì¼ì •ì— ì°¸ì—¬í•´ì£¼ì…”ì„œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.</p> 
  <p style="margin:0 0 3px 0;">ë‹¤ìŒ ì „í˜•ì¸ ë ˆí¼ëŸ°ìŠ¤ ì²´í¬ì— ëŒ€í•œ ì•ˆë‚´ë“œë¦¬ê³ ì í•©ë‹ˆë‹¤.</p> 
  <p style="margin:0 0 14px 0;">ë ˆí¼ëŸ°ìŠ¤ ì²´í¬ ì „í˜•ì€ ì•„ë˜ì™€ ê°™ì´ ì§„í–‰ë  ì˜ˆì •ì…ë‹ˆë‹¤.</p> 

  <p style="margin:0 0 3px 0;"><strong>[ë ˆí¼ëŸ°ìŠ¤ ì²´í¬ ì „í˜• ì•ˆë‚´]</strong></p>
  <div style="padding-left:5px; margin:0 0 3px 0;">
  <p style="margin:0 0 3px 0;">- ëŒ€ìƒ : ì§€ì • 1~2ëª… (íŒ€ ë¦¬ë” ìš°ì„ )</p>
  <p style="margin:0 0 3px 0;">- ì§„í–‰ë°©ì‹ : ìœ ì„  ì¸í„°ë·°</p>
  <p style="margin:0 0 14px 0;">- ì§„í–‰ì¼ì • : ëŒ€ìƒìë“¤ê³¼ ê°œë³„ ë…¼ì˜í•˜ì—¬ ì°¨ì£¼ê¹Œì§€ ì§„í–‰ ì˜ˆì •</p>
  </div>

  <p style="margin:0 0 3px 0;">ë ˆí¼ëŸ°ìŠ¤ ì²´í¬ ì§„í–‰ì„ ìœ„í•˜ì—¬ ì „ì ì„œëª…ì„ í†µí•´ ë™ì˜ì„œ ì„œëª…ì„ ìš”ì²­ë“œë¦´ ì˜ˆì •ì´ë©°,</p> 
  <p style="margin:0 0 14px 0;">ë ˆí¼ëŸ°ìŠ¤ ì²´í¬ ì§„í–‰ì— ëŒ€í•œ ë™ì˜ ì—¬ë¶€ì™€ ì§„í–‰ì„ ì›í•˜ì‹œëŠ” ì§€ì •ì¸ 1~2ëª…ì˜ ì •ë³´(ì´ë¦„, ê´€ê³„, ì „í™”ë²ˆí˜¸)ë¥¼ í¬í•¨í•˜ì—¬ í•´ë‹¹ ë™ì˜ì„œ ì‘ì„±ì„ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p> 

  <p style="margin:0 0 14px 0;">ê¼­ ì§ì „ íšŒì‚¬ì˜ ë™ë£Œì¼ í•„ìš”ëŠ” ì—†ì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œ  ${nameBody(v)}ë‹˜ë‹˜ê³¼ ìµœì†Œí•œ 3ê°œì›” ì´ìƒ ê¸´ë°€í•˜ê²Œ í˜‘ì—…ì„ í•œ ê²½í—˜ì´ ìˆëŠ” ë™ë£Œë“¤ë¡œ ì „ë‹¬ì„ ë¶€íƒ ë“œë¦¬ë©°, í˜‘ì—… í–ˆë˜ ì§ì† ìƒì‚¬ë¥¼ í•„ìˆ˜ë¡œ 1ëª… í¬í•¨í•˜ì—¬ ì „ë‹¬í•´ì£¼ì„¸ìš”.</p> 

  <p style="margin:0 0 14px 0;">í˜„ì¬ ì¬ì§ ì¤‘ì¸ íšŒì‚¬ì— ì´ì§ ë° í‡´ì‚¬ ì‚¬ì‹¤ì„ ë°íˆì§€ ì•Šì•„, í•´ë‹¹ ì¡°ì§ì˜ ë™ë£Œ ë¶„ì—ê²Œ ë ˆí¼ëŸ°ìŠ¤ ì²´í¬ê°€ ì§„í–‰ë˜ì§€ ì•Šê¸°ë¥¼ ë°”ë¼ì‹œëŠ” ê²½ìš°ì—ëŠ” ë³¸ ë©”ì¼ì— ë§ì”€í•´ì£¼ì‹œë©´ ì°¸ê³ í•˜ì—¬ í”„ë¡œì„¸ìŠ¤ ì§„í–‰í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.</p> 

  <p style="margin:0 0 14px 0; color:#b91c1c; font-style:italic; font-size:12px;">
  (*ë³¸ ë ˆí¼ëŸ°ìŠ¤ ì²´í¬ë¥¼ í†µí•´ ì–»ì€ ì •ë³´ëŠ” ë‹¹ì‚¬ì˜ ì±„ìš© ì´ì™¸ì— ë‹¤ë¥¸ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•ŠìŒì„ ì•ˆë‚´ ë“œë¦½ë‹ˆë‹¤.)
  </p>

  <p style="margin:0 0 14px 0;">ê´€ë ¨í•˜ì—¬ ê¶ê¸ˆí•œ ì ì€ ì–¸ì œë“  í¸í•˜ê²Œ í•´ë‹¹ ë©”ì¼ì„ í†µí•´ ë¬¸ì˜ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p> 
  
  <p style="margin:0;">ê°ì‚¬í•©ë‹ˆë‹¤.<br />í”¼ì²˜ë§ ì±„ìš©íŒ€ ë“œë¦¼.</p>
`),

onboarding: (v) => { const role = roleHtml(v); return wrapEmailNoHeader(`
  <p style="margin:0 0 3px 0;"><strong>[Featuring]</strong></p>
  <p style="margin:0 0 3px 0;">ì•ˆë…•í•˜ì„¸ìš”, ${nameFull(v)}ë‹˜.</p>
  <p style="margin:0 0 14px 0;">í”¼ì²˜ë§ ì±„ìš©íŒ€ì…ë‹ˆë‹¤.</p>

  <p style="margin:0 0 3px 0;">ìš°ì„  íšŒì‚¬ë¥¼ ëŒ€í‘œí•˜ì—¬ ë‹¹ì‚¬ì˜ ì±„ìš© í”„ë¡œì„¸ìŠ¤ë¥¼ ì§„í–‰í•´ì£¼ì‹œê³ , ìµœì¢… í•©ë¥˜ ê²°ì •ì— ëŒ€í•´ì„œ í™˜ì˜ê³¼ ê¹Šì€ ê°ì‚¬ë¥¼ ì „í•©ë‹ˆë‹¤.</p>
  <p style="margin:0 0 14px 0;">ì…ì‚¬ì™€ ì…ì‚¬ì— í•„ìš”í•œ ë‚´ìš©ì„ ì•„ë˜ì™€ ê°™ì´ ì•ˆë‚´ë“œë¦¬ë©°, í•„ìš”í•œ ë¶€ë¶„ì€ í™•ì¸ í›„ íšŒì‹  ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>

  <p style="margin:0 0 3px 0;"><strong>1) ì…ì‚¬ ë° ì£¼ìš” ì¼ì • ì•ˆë‚´</strong></p>
    <div style="padding-left:5px; margin:0 0 3px 0;">
    <p style="margin:0 3px 3px 0;">- ì˜ˆì •ì¼ì : </p>
    {
${
  v.confirmDate
    ? `<p style="margin:0 0 14px 0;">${escapeHtml(v.confirmDate)}</p>`
    : `<p style="margin:0 0 14px 0; color:#6b7280;">{ë‚ ì§œë¥¼ ì…ë ¥í•˜ì„¸ìš”}</p>`
}
    <p style="margin:0 3px 3px 0;">- ì¶œê·¼ ì¥ì†Œ : ì„œìš¸ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 129, ë¹—ì¸ê¸ˆìœµíƒ€ì›Œ 8ì¸µ</p> 
      <div style="padding-left:8px; margin:0 0 3px 0;">
      <p style="margin:0 8px 3px 0;">âœ… L(ë¡œë¹„)ì¸µì— ë„ì°©í•˜ì‹œì–´ ì•„ë˜ ì—°ë½ì²˜ë¡œ ì—°ë½ì£¼ì‹œë©´ ë‹´ë‹¹ìê°€ ì§ì ‘ ì•ˆë‚´ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p> 
      <p style="margin:0 8px 3px 0;">â“ Lì¸µì€ ì •ë¬¸ìœ¼ë¡œ ë°©ë¬¸í•˜ì‹œê²Œ ë  ê²½ìš°, ì—ìŠ¤ì»¬ë ˆì´í„°ë¥¼ íƒ€ê³  í•œ ì¸µ ì˜¬ë¼ì˜¤ì…”ì•¼ í•©ë‹ˆë‹¤.</p> 
      <p style="margin:0 8px 14px 0;">ğŸ™‹ ë‹´ë‹¹ì ì—°ë½ì²˜ : 010-7376-0490, ë°•ì°¬í˜•(Thomas)</p>
    </div>
  </div>

  <p style="margin:0 0 3px 0;"><strong>2) ì—°ë´‰ ë° ìˆ˜ìŠµê¸°ê°„ ì•ˆë‚´</strong></p>
    <div style="padding-left:5px; margin:0 0 3px 0;">
    <p style="margin:0 3px 3px 0;">- ì²˜ìš°ì•ˆ : {$,$$$ë§Œ ì›}</p>
    <p style="margin:0 3px 3px 0;">- ìˆ˜ìŠµê¸°ê°„ : 3ê°œì›”</p>
    <p style="margin:0 3px 14px 0; color:#666666; font-style:italic; font-size:12px;">
    *ìˆ˜ìŠµê¸°ê°„ ì¢…ë£Œ í›„, ì‚¬ë‚´ ê·œì •ì— ì˜ê±°í•œ í‰ê°€ì™€ ìŒë°© í˜‘ì˜ë¥¼ í†µí•´ ì •ê·œì§ ì „í™˜ ê³„ì•½ì„ ì§„í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.<br />ì´ì— ê·¼ë¬´í˜•íƒœì™€ ë¬´ê´€í•˜ê²Œ ëª¨ë“  ì„ì§ì›ì˜ ì²« ê³„ì•½ì€ ë§Œ 3ê°œì›” ê³„ì•½ì§ìœ¼ë¡œ ê³„ì•½í•œ í›„, ì •ê·œì§ ê³„ì•½ìœ¼ë¡œ ì „í™˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.<br />(ëª¨ë“  ì¸ì‚¬ê·œì •ì€ ìµœì´ˆì…ì‚¬ì¼ ê¸°ì¤€ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.)
</div>

  <p style="margin:0 0 3px 0;"><strong>3) í˜¸ì¹­ ë° ê³„ì • ìƒì„±</strong></p>
    <div style="padding-left:5px; margin:0 0 3px 0;">
    <p style="margin:0 3px 3px 0;">- í”¼ì²˜ë§ì€ ì§í•¨ì„ ë¶€ë¥´ì§€ ì•Šê³ , ìˆ˜í‰ì ì¸ ì¡°ì§ë¬¸í™”ë¥¼ ì§€í–¥í•˜ë©° ëª¨ë‘ ë‹‰ë„¤ì„(ì˜ì–´ì´ë¦„)ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤ (ex. ë§ˆí‹´, í¬ì, ì–¼, í•´ë¦¬ ë“±)</p> 
    <p style="margin:0 3px 3px 0;">- ë˜í•œ í•´ë‹¹ ì´ë¦„ì€ íšŒì‚¬ ê°œì¸ê³„ì •ìœ¼ë¡œ í•¨ê»˜ ì‚¬ìš© ë˜ê³  ìˆìŠµë‹ˆë‹¤. (ex. poza@featuring.in)</p>
    <p style="margin:0 8px 3px 0; background-color:#FFFF00;">ğŸ‘‰ë‹‰ë„¤ì„ì„ ì •í•œ í›„ [ì˜ë¬¸/í•œê¸€] ì–‘ì‹ìœ¼ë¡œ íšŒì‹  ë¶€íƒë“œë¦½ë‹ˆë‹¤. (ex. martin/ë§ˆí‹´)</p>
    <p style="margin:0 3px 14px 0;">(*ì¤‘ë³µ ë˜ëŠ” ì‚¬ìš© ë¶ˆê°€í•œ ë‹‰ë„¤ì„ì¼ ìˆ˜ ìˆê¸°ì— 2~3ìˆœìœ„ê¹Œì§€ ê³ ë ¤í•´ì„œ ë¶€íƒë“œë¦½ë‹ˆë‹¤.)</p>
  </div>  
    
   <p style="margin:0 0 3px 0;"><strong>4) ì…ì‚¬ ì „ ì œì¶œì„œë¥˜</strong></p>
     <div style="padding-left:5px; margin:0 0 3px 0;">
    <p style="margin:0 3px 3px 0;">- ì‹ ë¶„ì¦ ì‚¬ë³¸ 1ë¶€<br />- ì£¼ë¯¼ë“±ë¡ë“±ë³¸ ì‚¬ë³¸ 1ë¶€ (ë“±ë³¸ìƒ í˜„ ê±°ì£¼ì§€ì™€ ë‹¤ë¥´ë‹¤ë©´ ì‹¤ê±°ì£¼ì§€ ì£¼ì†Œë„ íšŒì‹  ë¶€íƒë“œë¦½ë‹ˆë‹¤.) <br />- í†µì¥ ì‚¬ë³¸ 1ë¶€<br /> (ì´í•˜ ì‹ ì…ì€ í•´ë‹¹ ì—†ìŒ.)<br />- ìµœê·¼ 5ë…„ ë‚´ ì§ì¥ ê²½ë ¥ì¦ëª…ì„œ (ë°œê¸‰ì´ ì–´ë ¤ìš´ ê²½ìš° ì‚¬ìœ ë¥¼ í•¨ê»˜ ì ì–´ì„œ íšŒì‹  ë¶€íƒë“œë¦½ë‹ˆë‹¤.)<br />- 23ë…„, 24ë…„, 25ë…„ ì›ì²œì§•ìˆ˜ì˜ìˆ˜ì¦</p>
    <p style="margin:0 3px 14px 0; color:#666666; font-style:italic; font-size:12px;">
    *í•˜ë“œì¹´í”¼(ì¶œë ¥ë³¸)ëŠ” ê°€ì ¸ì˜¤ì‹¤ í•„ìš” ì—†ê³ , ì´ë©”ì¼ë¡œ íŒŒì¼ íšŒì‹  ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
    </div>
    
   <p style="margin:0 0 3px 0;"><strong>5) ë©íƒ‘ ë° ì¥ë¹„, SW ê´€ë ¨</strong></p>
     <div style="padding-left:5px; margin:0 0 3px 0;">
      <p style="margin:0 3px 3px 0;">- ë©íƒ‘ ìš´ì˜ì²´ì œ ì„ íƒ : LGê·¸ë¨(windows) or ë§¥ë¶</p>
      <p style="margin:0 3px 3px 0;">- ê¸°ë³¸ ì¥ë¹„ : ë©íƒ‘, ëª¨ë‹ˆí„° 1ëŒ€, ë©íƒ‘ ê±°ì¹˜ëŒ€<br />
      (*ë‚˜ë¨¸ì§€ ì•…ì„¸ì‚¬ë¦¬ ë° ì¥ë¹„(ë§ˆìš°ìŠ¤, í‚¤ë³´ë“œ ë“±)ëŠ” ê°œì¸ì ìœ¼ë¡œ ì¤€ë¹„í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤. </p>
      <p style="margin:0 3px 14px 0; background-color:#FFFF00;">ğŸ‘‰ë©íƒ‘ ì¢…ë¥˜ íšŒì‹  ë¶€íƒë“œë¦¬ë©°, í•„ìˆ˜ í™œìš© SWê°€ ìˆë‹¤ë©´ ë¯¸ë¦¬ ë§ì”€ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
    </div>

  <p style="margin:0 0 14px 0;">ì…ì‚¬ ì¼ì • ë° ê´€ë ¨í•˜ì—¬ ê¶ê¸ˆí•œ ì ì€ ì–¸ì œë“  í¸í•˜ê²Œ ì—°ë½ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
      
  <p style="margin:0;">ê°ì‚¬í•©ë‹ˆë‹¤.<br />í”¼ì²˜ë§ ì±„ìš©íŒ€ ë“œë¦¼.</p>
`); },  // â˜… í•¨ìˆ˜/ì†ì„± ì •í™•íˆ ë‹«ê¸°
      
reject: (v) => wrapEmailNoHeader(`
  <p style="margin:0 0 3px 0;"><strong>[Featuring]</strong></p>
  <p style="margin:0 0 3px 0;">ì•ˆë…•í•˜ì„¸ìš”, ${nameFull(v)}ë‹˜.</p>
  <p style="margin:0 0 14px 0;">í”¼ì²˜ë§ ì±„ìš©íŒ€ì…ë‹ˆë‹¤.</p>

  <p style="margin:0 0 3px 0;">ë‹¹ì‚¬ì— ì§€ì›í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.</p>
  <p style="margin:0 0 14px 0;">í˜¹ì‹œ ì±„ìš© í”„ë¡œì„¸ìŠ¤ê°€ ì§„í–‰ë˜ëŠ” ì¤‘ ì €í¬ê°€ ì˜ë„ì¹˜ ì•Šê²Œ ë¶ˆí¸ì„ ë“œë¦° ì ì€ ì—†ì—ˆëŠ”ì§€ ì—¬ëŸ¬ëª¨ë¡œ ë§ˆìŒì´ ì“°ì…ë‹ˆë‹¤.</p>
  
  <p style="margin:0 0 14px 0;">${nameBody(v)}ë‹˜ê»˜ëŠ” ì•ˆíƒ€ê¹ê²Œë„ ì´ë²ˆ ì§€ì›ì—ì„œëŠ” ì „í˜• í•©ê²©ì˜ ê¸°ìœ ì†Œì‹ì„ ì „í•´ë“œë¦¬ì§€ ëª»í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>

  <p style="margin:0 0 14px 0;">ì–¸ì  ê°€ë¶€í„° ì·¨ì—… ê·¸ ìì²´ê°€ ëª©ì ì´ê³  ê¿ˆì´ ë˜ì–´ë²„ë¦° ì‚­ë§‰í•œ ì·¨ì—… í™˜ê²½ ê°€ìš´ë° ë§¤ì¼ì„ ê³ êµ°ë¶„íˆ¬í•˜ë©° ìì‹ ê³¼ì˜ ì‹¸ì›€ì„ ì´ê²¨ë‚´ëŠ” ì—¬ëŸ¬ë¶„ë“¤ê»˜ ê·¸ ì–´ë–¤ ë§ë¡œë„ ì˜¨ì „í•œ ìœ„ë¡œë¥¼ ê±´ë„¬ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì„ ìµíˆ ì•Œê³  ìˆìŠµë‹ˆë‹¤.</p>

  <p style="margin:0 0 14px 0;">ë¹„ë¡ ì´ë²ˆ ì „í˜•ì„ í†µí•´ ${nameBody(v)}ë‹˜ê³¼ ì¢‹ì€ ì¸ì—°ìœ¼ë¡œ í•¨ê»˜ í•˜ì§€ëŠ” ëª»í•˜ì§€ë§Œ,<br />ìŠ¤ìŠ¤ë¡œ ê¿ˆê¾¸ëŠ” ì¸ìƒì€ ë°˜ë“œì‹œ ì‹¤í˜„ë˜ë¦¬ë¼ ë¯¿ìœ¼ë©° ì§„ì‹¬ ì–´ë¦° ì‘ì›ì˜ ë§ˆìŒì„ ì „í•´ë“œë¦½ë‹ˆë‹¤.</p>

  <p style="margin:0 0 14px 0;">í–¥í›„ ë˜ ë‹¤ë¥¸ ê²½ë¡œë¡œ ì—¬ëŸ¬ë¶„ì„ ë‹¤ì‹œ ë§Œë‚˜ ëµ ìˆ˜ ìˆê¸°ë¥¼ ë°”ë¼ë©° ì•ìœ¼ë¡œ í¼ì³ì§ˆ ì‚¶ì— ì„±ì¥ê³¼ í–‰ë³µì´ í•¨ê»˜í•˜ê¸°ë¥¼ ê¸°ì›í•©ë‹ˆë‹¤.</p>

  <p style="margin:0 0 14px 0;"></p>

  <p style="margin:0 0 3px 0;">ê±´ê°• ìœ ì˜í•˜ì‹œê³ , ë¹›ë‚˜ëŠ” í•˜ë£¨ ë˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
  <p style="margin:0;">ê°ì‚¬í•©ë‹ˆë‹¤.<br />í”¼ì²˜ë§ ì±„ìš©íŒ€ ë“œë¦¼.</p>
`),

finalNotice: (v) => wrapEmailNoHeader(`
  <p style="margin:0 0 3px 0;"><strong>[Featuring]</strong></p>
  <p style="margin:0 0 3px 0;">ì•ˆë…•í•˜ì„¸ìš”, ${nameFull(v)}ë‹˜.</p>
  <p style="margin:0 0 14px 0;">í”¼ì²˜ë§ ì±„ìš©íŒ€ì…ë‹ˆë‹¤.</p>

  <p style="margin:0 0 3px 0;">ê¸¸ì—ˆë˜ í”¼ì²˜ë§ì˜ ì±„ìš© í”„ë¡œì„¸ìŠ¤ì— ì ê·¹ ì‘í•´ì£¼ì‹œê³ , í”ì¾Œíˆ ëŒ€ë©´ ì¸í„°ë·°ì— ì°¸ì„í•´ì£¼ì‹œì–´ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.p>
  <p style="margin:0 0 3px 0;">ìµœì¢… ì¸í„°ë·° ê²°ê³¼, <strong>í•©ê²©ì„ ì•ˆë‚´ë“œë¦¬ë©° ë™ì‹œì— ì˜¤í¼ ë ˆí„° ì „ë‹¬</strong>ë“œë¦½ë‹ˆë‹¤.</p>
  <p style="margin:0 0 14px 0;">ğŸ‰ ìµœì¢… í•©ê²©ì„ ì§„ì‹¬ìœ¼ë¡œ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤. :)</p>

  <p style="margin:0 0 3px 0;"><strong>1) ì œì•ˆ ì—°ë´‰</strong></p>
  <div style="padding-left:5px; margin:0 0 3px 0;">
  <p style="margin:0 3px 3px 0;">- ê¸°ë³¸ ì—°ë´‰ : {$,$$$ë§Œ ì›}</p>
  </div>

  <p style="margin:0 0 3px 0;"><strong>2) ì…ì‚¬ ì¼ì</strong></p>
  <div style="padding-left:5px; margin:0 0 3px 0;">
  <p style="margin:0 3px 3px 0;">- ì˜ˆì •ì¼ì : </p>{
 ${
  v.confirmDate
    ? `<p style="margin:0 0 14px 0;">${escapeHtml(v.confirmDate)}</p>`
    : `<p style="margin:0 0 14px 0; color:#6b7280;">{ë‚ ì§œë¥¼ ì…ë ¥í•˜ì„¸ìš”}</p>`
}
  <p style="margin:0 3px 3px 0;">- ê°œì¸ ìƒí™©ì— ë”°ë¼ ìƒí˜¸ í˜‘ì˜ ê°€ëŠ¥í•œ ì‚¬í•­ì…ë‹ˆë‹¤.</p>
  <p style="margin:0 3px 3px 0;">- í”¼ì²˜ë§ì€ ìˆ˜ìŠµê¸°ê°„ 3ê°œì›”ì´ ìˆìœ¼ë©°, ê¸‰ì—¬ëŠ” 100% ì§€ê¸‰ë©ë‹ˆë‹¤.</p>
  <p style="margin:0 0 14px 0;">- ê³ ìš©í˜•íƒœì™€ ë¬´ê´€í•˜ê²Œ ëª¨ë“  ì„ì§ì›ì˜ ì²« ê³„ì•½ì€ ìˆ˜ìŠµê¸°ê°„ 3ê°œì›” ê³„ì•½ì§ ê³„ì•½ í›„, ìˆ˜ìŠµ í†µê³¼ í›„ ì •ê·œì§ ê³„ì•½ìœ¼ë¡œ ì „í™˜í•˜ê³  ìˆëŠ” ì  ì°¸ê³  ë¶€íƒë“œë¦½ë‹ˆë‹¤.<br />(*ëª¨ë“  ì¸ì‚¬ëŠ” ìµœì´ˆì…ì‚¬ì¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì‚°ì •ë©ë‹ˆë‹¤.)</p>
  </div>

  <p style="margin:0 0 3px 0;"><strong>3) ì†Œì† ë¶€ì„œ ë° ì—…ë¬´ ì•ˆë‚´</strong></p>
    <div style="padding-left:5px; margin:0 0 3px 0;">
  <p style="margin:0 3px 3px 0;">- ì†Œì† : </p>
  <p style="margin:0 3px 3px 0;">- ì£¼ìš” ì—…ë¬´ : </p>
    <div style="padding-left:8px; margin:0 0 3px 0;">
    <p style="margin:0 8px 3px 0;">â‘ </p>
    <p style="margin:0 8px 3px 0;">â‘¡</p>
    <p style="margin:0 8px 3px 0;">â‘¢</p>
    <p style="margin:0 8px 14px 0;">â‘£</p>
  </div>
</div>

  <p style="margin:0 0 3px 0;">4) í”¼ì²˜ë§ ê°€ì´ë“œ ìë£Œ<strong></strong></p>
    <div style="padding-left:5px; margin:0 0 3px 0;">
  <p style="margin:0 3px 14px 0;">- <a href="https://teamfeaturing.notion.site/Featuring-Employee-Experience-df09fd30889a42e3845c7802d316b184" style="${brandLinkStyle}"><span style="color:#3d85c6">ì²¨ë¶€ ë§í¬</a></span> ì°¸ê³  ë°”ëë‹ˆë‹¤.</p>
  </div>

  <p style="margin:0 0 3px 0;">í•´ë‹¹ ì˜¤í¼ë ˆí„°ì— ë™ì˜ ë° í•©ë¥˜ ì—¬ë¶€ íšŒì‹  ë¶€íƒë“œë¦¬ë©°, ì´í›„ ì•ˆë‚´ ì‚¬í•­ì€ ë³„ë„ë¡œ ë©”ì¼ ë³´ë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤ :)</p>
  <p style="margin:0 3px 14px 0;">ê¶ê¸ˆí•˜ì‹  ë¶€ë¶„ì€ ì–¸ì œë“  í¸í•˜ê²Œ ë§ì”€ ë¶€íƒë“œë¦¬ë©°, í•¨ê»˜ ë§Œë“¤ì–´ ê°ˆ ì„±ì¥ì„ ê¸°ëŒ€í•˜ê³  ìˆê² ìŠµë‹ˆë‹¤.</p>
    
  <p style="margin:0;">ê°ì‚¬í•©ë‹ˆë‹¤.<br />í”¼ì²˜ë§ ì±„ìš©íŒ€ ë“œë¦¼.</p>
`)
};
    
    const subjectTemplates = {
    task: (v) => `[Featuring] ${subjectRole(v)} ê³¼ì œ ì „í˜• ì§„í–‰ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.`,
    interview1: (v) => `[Featuring] ${subjectRole(v)} 1ì°¨ ì¸í„°ë·° ì œì•ˆë“œë¦½ë‹ˆë‹¤.`,
    interviewFinal: (v) => `[Featuring] ${subjectRole(v)} 1ì°¨ ì¸í„°ë·° ê²°ê³¼ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.`,
    scheduleConfirm: (v) => `[Featuring] ${subjectRole(v)} ì¼ì • í™•ì • ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.`,
    reference: (v) => `[Featuring] ë ˆí¼ëŸ°ìŠ¤ ì²´í¬ ì „í˜• ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.`,
    finalNotice: (v) => `[Featuring] ìµœì¢… ì¸í„°ë·° ê²°ê³¼ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.`,
    onboarding: (v) => `[Featuring] ${subjectRole(v)} ì…ì‚¬ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.`,
    reject: (v) => `[Featuring] ${nameFull(v)}ë‹˜ ì±„ìš© ì „í˜• ê²°ê³¼ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.`
};

  const nameEl = document.getElementById('name');
  const positionEl = document.getElementById('position');
  const taskurlEl = document.getElementById('taskurl');   // â˜… ì´ ì¤„ì´ ë°˜ë“œì‹œ IIFEë³´ë‹¤ ìœ„
  const previewEl = document.getElementById('preview');
  const copyBtn = document.getElementById('copyBtn');
    function enforceNumericForDateInputs(){
  const maxLen = { y:4, m:2, d:2, h:2, i:2 };
  const sel = '.date-row input.y,.date-row input.m,.date-row input.d,.date-row input.h,.date-row input.i';
  document.querySelectorAll(sel).forEach(el=>{
    // í´ë˜ìŠ¤ëª…ìœ¼ë¡œ ìµœëŒ€ ìë¦¬ìˆ˜ ì°¾ê¸°
    const cls = ['y','m','d','h','i'].find(c => el.classList.contains(c));
    const max = maxLen[cls] || 2;
    el.setAttribute('maxlength', String(max));
    el.setAttribute('inputmode', 'numeric'); // ëª¨ë°”ì¼ ìˆ«ì í‚¤íŒ¨ë“œ

    // ìˆ«ìê°€ ì•„ë‹Œ ì…ë ¥ì„ ë§‰ìŒ
    el.addEventListener('keydown', (e)=>{
      const ok = ['Backspace','Delete','ArrowLeft','ArrowRight','Tab','Home','End'];
      if (ok.includes(e.key) || e.ctrlKey || e.metaKey) return;
      if (!/^\d$/.test(e.key)) e.preventDefault();
    });

    // ë¶™ì—¬ë„£ê¸°/ì…ë ¥ ì‹œ ìˆ«ìë§Œ ë‚¨ê¸°ê³  ê¸¸ì´ ì œí•œ
    el.addEventListener('input', ()=>{
      const digits = (el.value || '').replace(/\D/g,'').slice(0, max);
      if (el.value !== digits) el.value = digits;
    });
  });
}
// í˜ì´ì§€ ë¡œë“œ ì‹œ 1íšŒ ì‹¤í–‰
enforceNumericForDateInputs();
  const toast = document.getElementById('toast');
  const isInternEl = document.getElementById('isIntern');
  const copySubjectBtn = document.getElementById('copySubjectBtn');
  const subjectPreviewEl = document.getElementById('subjectPreview');
    /* â–¼â–¼â–¼ ì—¬ê¸°ì— C) JS(ê³¼ì œ ì„ íƒ ë“œë¡­ë‹¤ìš´) ì‚½ì… â–¼â–¼â–¼ */
    const taskSelectBtn = document.getElementById('taskSelectBtn');
    const taskDropdown  = document.getElementById('taskDropdown');
    const taskRadioEls  = document.querySelectorAll('input[name="taskurlOpt"]');
function getSelectedTaskLabel(){
  const sel = document.querySelector('input[name="taskurlOpt"]:checked');
  if(!sel){ return 'ê³¼ì œ ì—†ìŒ'; }
  const label = sel.closest('label');
  const span = label ? label.querySelector('.opt') : null;
  return span ? span.textContent.trim() : 'ê³¼ì œ ì—†ìŒ';
}

function toggleTaskDropdown(force){
  const willOpen = (typeof force === 'boolean') ? force : taskDropdown.hasAttribute('hidden');
  if(willOpen){
    taskDropdown.removeAttribute('hidden');
    taskSelectBtn.setAttribute('aria-expanded','true');
  }else{
    taskDropdown.setAttribute('hidden','');
    taskSelectBtn.setAttribute('aria-expanded','false');
  }
}
taskSelectBtn.addEventListener('click', ()=> toggleTaskDropdown());

taskRadioEls.forEach(radio => {
  radio.addEventListener('change', ()=>{
    const v = (radio.value || '').trim();
    taskurlEl.value = v ? (typeof normalizeUrl === 'function' ? normalizeUrl(v) : v) : '';
    taskSelectBtn.textContent = getSelectedTaskLabel();
    toggleTaskDropdown(false);
  });
});

document.addEventListener('click', (e)=>{
  const dept = e.target.closest('.dept');
  if(!dept){ toggleTaskDropdown(false); }
});

(function initTaskSelect(){
  // í•„ìˆ˜ ìš”ì†Œê°€ ì—†ìœ¼ë©´ ì¡°ìš©íˆ ì¢…ë£Œ(ë‹¤ì¤‘ ìŠ¤í¬ë¦½íŠ¸/ìˆœì„œ ì´ìŠˆ ë°©ì§€)
  if (!taskurlEl || !taskSelectBtn || !taskDropdown) return;

  const none = document.querySelector('input[name="taskurlOpt"][value=""]');
  if (none) none.checked = true;

  taskurlEl.value = ''; // ê¸°ë³¸: ê³¼ì œ ì—†ìŒ
  taskSelectBtn.textContent = getSelectedTaskLabel();
  toggleTaskDropdown(false);
})();
    let currentHtml = '';
    let currentSubject = ''; // â˜… ì¶”ê°€

  function buildVars(){
  const rawUrl = (taskurlEl && taskurlEl.value ? taskurlEl.value : '').trim();
  const normalizedUrl = normalizeUrl(rawUrl);

  // ì œì•ˆì¼ì ìµœëŒ€ 3ê°œ
  const propose = [readDate('p1'), readDate('p2'), readDate('p3')].filter(Boolean);
  // í™•ì •ì¼ì 1ê°œ
  const confirm = readDate('c1');

  return {
    name: (nameEl.value || '').trim() || 'ì§€ì›ì',
    position: (positionEl.value || '').trim() || 'í¬ì§€ì…˜',
    taskurl: normalizedUrl,
    taskTopic: getTaskTopicByUrl(normalizedUrl),
    proposeDates: propose,                 // â˜… ì¶”ê°€
    confirmDate: confirm,                  // â˜… ì¶”ê°€
    isIntern: !!(isInternEl && isInternEl.checked)
  };
}

    function showPreview(html){
      currentHtml = html;
      previewEl.innerHTML = html;
      copyBtn.disabled = !html;
    }

function showToast(msg, withNote){
  // ì¶”ê°€ ë¬¸êµ¬(ì˜µì…˜) í¬í•¨ í‘œì‹œ
  const note = 'ë‚ ì§œë‚˜ ì‹œê°„, ê¸ˆì•¡ì´ë‚˜ ë¹„ì–´ìˆëŠ” ê³µê°„ì„ ê¼­ í™•ì¸í•˜ì—¬ ë°œì†¡ ì „ ì±„ì›Œì£¼ì„¸ìš”.';
  toast.innerHTML = withNote
    ? `${escapeHtml(msg)}<div class="note">${escapeHtml(note)}</div>
    : escapeHtml(msg);

  toast.classList.add('show');
  // ì—¬ëŸ¬ ë²ˆ ëˆŒëŸ¬ë„ íƒ€ì´ë¨¸ ì´ˆê¸°í™”
  clearTimeout(toast._t);
  toast._t = setTimeout(()=> toast.classList.remove('show'), 3000);
}
    
function renderTemplateByKey(key){
  const builder = templates[key];
  if(!builder){
    showPreview('<p style="margin:0">ì„ íƒí•œ ì„œì‹ì´ ì•„ì§ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>');
    currentSubject = '';
    copySubjectBtn.disabled = true;
    subjectPreviewEl.textContent = '';
    return;
  }
  try{
    const vars = buildVars();
    const html = builder(vars);
    showPreview(html);

    // â˜… ì œëª© ê³„ì‚° ë° ë¯¸ë¦¬ë³´ê¸°/ë²„íŠ¼ ìƒíƒœ ê°±ì‹ 
    const sb = subjectTemplates[key];
    currentSubject = sb ? sb(vars) : `[Featuring] ${vars.position}`;
    subjectPreviewEl.textContent = currentSubject;
    copySubjectBtn.disabled = !currentSubject;

  }catch(err){
    console.error('[í…œí”Œë¦¿ ë Œë” ì˜¤ë¥˜]', err);
    showPreview('<p style="margin:0;color:#b91c1c">ì„œì‹ì„ í‘œì‹œí•˜ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p>');
    currentSubject = '';
    copySubjectBtn.disabled = true;
    subjectPreviewEl.textContent = '';
  }
}

    document.querySelectorAll('.js-template').forEach(btn =>{
      btn.addEventListener('click', ()=> renderTemplateByKey(btn.dataset.key));
    });

    async function copyHtml(){
      if(!currentHtml) return;
      const blob = new Blob([currentHtml], {type: 'text/html'});
      const item = new ClipboardItem({'text/html': blob});
      try{
        await navigator.clipboard.write([item]);
        showToast('í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆìŠµë‹ˆë‹¤. Gmail ì‘ì„±ì°½ì— ë¶™ì—¬ë„£ê¸°(Ctrl/âŒ˜+V) í•˜ì„¸ìš”.', true);
      }catch(err){
        // í¼ë¯¸ì…˜ì´ ë§‰íŒ ë¸Œë¼ìš°ì € ëŒ€ë¹„ í…ìŠ¤íŠ¸ë¡œ í´ë°±
        const ta = document.createElement('textarea');
        ta.value = currentHtml; document.body.appendChild(ta); ta.select();
        try{ document.execCommand('copy'); showToast('HTML ë³µì‚¬ ê¶Œí•œì´ ì—†ì–´ í…ìŠ¤íŠ¸ë¡œ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.', true); }
        catch(e){ alert('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'); }
        finally{ document.body.removeChild(ta); }
      }
    }

    copyBtn.addEventListener('click', copyHtml);
    async function copySubject(){
  if(!currentSubject) return;
  try{
    await navigator.clipboard.writeText(currentSubject);
    showToast('ì œëª©ì„ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤. ë©”ì¼ ì œëª© ì…ë ¥ë€ì— ë¶™ì—¬ë„£ê¸°(Ctrl/âŒ˜+V) í•˜ì„¸ìš”.');
  }catch(err){
    // ê¶Œí•œ ì´ìŠˆ ì‹œ í´ë°±
    const ta = document.createElement('textarea');
    ta.value = currentSubject; document.body.appendChild(ta); ta.select();
    try{ document.execCommand('copy'); showToast('ì œëª©ì„ í…ìŠ¤íŠ¸ë¡œ ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.'); }
    catch(e){ alert('ì œëª© ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.'); }
    finally{ document.body.removeChild(ta); }
  }
}
copySubjectBtn.addEventListener('click', copySubject);
  </script>
</body>
</html>
